import { UncertaintyToggle } from "../components/uncertainty-components/uncertaintyToggle.js";
import { NomogramController } from "../managers/nomogramController.js";
import { RulerConstraint } from "../managers/rulerConstraint.js";
import { GeometryUtils } from "../managers/geometryUtils.js";
import { IsoplethManager } from "../managers/isoplethManager.js";
import { CircleFactory } from "../managers/circleFactory.js";

document.addEventListener("DOMContentLoaded", function () {

    // Default config.
    const axisCoordsMapMultiply = {"Axis 1": {"xMin": 6.3, "xMax": 6.4, "yMin": 19.8, "yMax": 582.1, "valueMin": 0.0, "valueMax": 20.0, "points": {"[6.3, 19.8]": 0.0, "[6.3, 22.6]": 0.1, "[6.3, 25.4]": 0.2, "[6.3, 28.2]": 0.3, "[6.3, 31.1]": 0.4, "[6.3, 33.9]": 0.5, "[6.3, 36.6]": 0.6, "[6.3, 39.4]": 0.7, "[6.3, 42.3]": 0.8, "[6.3, 45.1]": 0.9, "[6.3, 47.9]": 1.0, "[6.3, 50.8]": 1.1, "[6.3, 53.6]": 1.2, "[6.3, 56.3]": 1.3, "[6.3, 59.1]": 1.4, "[6.3, 62.0]": 1.5, "[6.3, 64.8]": 1.6, "[6.3, 67.6]": 1.7, "[6.3, 70.4]": 1.8, "[6.3, 73.3]": 1.9, "[6.3, 76.1]": 2.0, "[6.3, 78.8]": 2.1, "[6.3, 81.6]": 2.2, "[6.3, 84.5]": 2.3, "[6.3, 87.3]": 2.4, "[6.3, 90.1]": 2.5, "[6.3, 92.9]": 2.6, "[6.3, 95.8]": 2.7, "[6.3, 98.5]": 2.8, "[6.3, 101.3]": 2.9, "[6.3, 104.1]": 3.0, "[6.3, 107.0]": 3.1, "[6.3, 109.8]": 3.2, "[6.3, 112.6]": 3.3, "[6.3, 115.3]": 3.4, "[6.3, 118.2]": 3.5, "[6.3, 121.0]": 3.6, "[6.3, 123.8]": 3.7, "[6.3, 126.6]": 3.8, "[6.3, 129.5]": 3.9, "[6.3, 132.3]": 4.0, "[6.3, 135.0]": 4.1, "[6.3, 137.8]": 4.2, "[6.3, 140.7]": 4.3, "[6.3, 143.5]": 4.4, "[6.3, 146.3]": 4.5, "[6.3, 149.1]": 4.6, "[6.3, 152.0]": 4.7, "[6.3, 154.8]": 4.8, "[6.3, 157.5]": 4.9, "[6.3, 160.3]": 5.0, "[6.3, 163.2]": 5.1, "[6.3, 166.0]": 5.2, "[6.3, 168.8]": 5.3, "[6.3, 171.7]": 5.4, "[6.3, 174.5]": 5.5, "[6.3, 177.2]": 5.6, "[6.3, 180.0]": 5.7, "[6.3, 182.9]": 5.8, "[6.3, 185.7]": 5.9, "[6.3, 188.5]": 6.0, "[6.3, 191.3]": 6.1, "[6.3, 194.2]": 6.2, "[6.3, 197.0]": 6.3, "[6.3, 199.7]": 6.4, "[6.3, 202.5]": 6.5, "[6.3, 205.4]": 6.6, "[6.3, 208.2]": 6.7, "[6.3, 211.0]": 6.8, "[6.3, 213.7]": 6.9, "[6.3, 216.7]": 7.0, "[6.3, 219.4]": 7.1, "[6.3, 222.2]": 7.2, "[6.3, 225.0]": 7.3, "[6.3, 227.9]": 7.4, "[6.3, 230.7]": 7.5, "[6.3, 233.5]": 7.6, "[6.3, 236.2]": 7.7, "[6.3, 239.1]": 7.8, "[6.3, 241.9]": 7.9, "[6.3, 244.7]": 8.0, "[6.3, 247.5]": 8.1, "[6.3, 250.4]": 8.2, "[6.3, 253.2]": 8.3, "[6.3, 255.9]": 8.4, "[6.3, 258.7]": 8.5, "[6.3, 261.6]": 8.6, "[6.3, 264.4]": 8.7, "[6.3, 267.2]": 8.8, "[6.3, 270.0]": 8.9, "[6.3, 272.9]": 9.0, "[6.3, 275.7]": 9.1, "[6.3, 278.4]": 9.2, "[6.3, 281.3]": 9.3, "[6.3, 284.1]": 9.4, "[6.3, 286.9]": 9.5, "[6.3, 289.7]": 9.6, "[6.3, 292.6]": 9.7, "[6.3, 295.4]": 9.8, "[6.3, 298.1]": 9.9, "[6.3, 300.9]": 10.0, "[6.3, 303.8]": 10.1, "[6.3, 306.6]": 10.2, "[6.3, 309.4]": 10.3, "[6.3, 312.2]": 10.4, "[6.3, 315.1]": 10.5, "[6.3, 317.8]": 10.6, "[6.3, 320.6]": 10.7, "[6.3, 323.4]": 10.8, "[6.3, 326.3]": 10.9, "[6.3, 329.1]": 11.0, "[6.3, 331.9]": 11.1, "[6.3, 334.6]": 11.2, "[6.3, 337.6]": 11.3, "[6.3, 340.3]": 11.4, "[6.3, 343.1]": 11.5, "[6.3, 345.9]": 11.6, "[6.3, 348.8]": 11.7, "[6.3, 351.6]": 11.8, "[6.3, 354.4]": 11.9, "[6.3, 357.1]": 12.0, "[6.3, 360.0]": 12.1, "[6.3, 362.8]": 12.2, "[6.3, 365.6]": 12.3, "[6.3, 368.4]": 12.4, "[6.3, 371.3]": 12.5, "[6.3, 374.1]": 12.6, "[6.3, 376.8]": 12.7, "[6.3, 379.6]": 12.8, "[6.3, 382.5]": 12.9, "[6.3, 385.3]": 13.0, "[6.3, 388.1]": 13.1, "[6.3, 390.9]": 13.2, "[6.3, 393.8]": 13.3, "[6.3, 396.5]": 13.4, "[6.3, 399.3]": 13.5, "[6.3, 402.2]": 13.6, "[6.3, 405.0]": 13.7, "[6.3, 407.8]": 13.8, "[6.3, 410.6]": 13.9, "[6.3, 413.5]": 14.0, "[6.3, 416.3]": 14.1, "[6.3, 419.0]": 14.2, "[6.3, 421.8]": 14.3, "[6.3, 424.7]": 14.4, "[6.3, 427.5]": 14.5, "[6.3, 430.3]": 14.6, "[6.3, 433.1]": 14.7, "[6.3, 436.0]": 14.8, "[6.3, 438.7]": 14.9, "[6.3, 441.5]": 15.0, "[6.3, 444.3]": 15.1, "[6.3, 447.2]": 15.2, "[6.3, 450.0]": 15.3, "[6.3, 452.8]": 15.4, "[6.3, 455.5]": 15.5, "[6.3, 458.4]": 15.6, "[6.3, 461.2]": 15.7, "[6.3, 464.0]": 15.8, "[6.3, 466.8]": 15.9, "[6.3, 469.7]": 16.0, "[6.3, 472.5]": 16.1, "[6.3, 475.2]": 16.2, "[6.3, 478.0]": 16.3, "[6.3, 480.9]": 16.4, "[6.3, 483.7]": 16.5, "[6.3, 486.5]": 16.6, "[6.3, 489.3]": 16.7, "[6.3, 492.2]": 16.8, "[6.3, 495.0]": 16.9, "[6.3, 497.7]": 17.0, "[6.3, 500.5]": 17.1, "[6.3, 503.4]": 17.2, "[6.3, 506.2]": 17.3, "[6.3, 509.0]": 17.4, "[6.4, 511.9]": 17.5, "[6.4, 514.7]": 17.6, "[6.4, 517.4]": 17.7, "[6.4, 520.2]": 17.8, "[6.4, 523.1]": 17.9, "[6.4, 525.9]": 18.0, "[6.4, 528.7]": 18.1, "[6.4, 531.5]": 18.2, "[6.4, 534.4]": 18.3, "[6.4, 537.1]": 18.4, "[6.4, 539.9]": 18.5, "[6.4, 542.7]": 18.6, "[6.4, 545.6]": 18.7, "[6.4, 548.4]": 18.8, "[6.4, 551.2]": 18.9, "[6.4, 553.9]": 19.0, "[6.4, 556.9]": 19.1, "[6.4, 559.6]": 19.2, "[6.4, 562.4]": 19.3, "[6.4, 565.2]": 19.4, "[6.4, 568.1]": 19.5, "[6.4, 570.9]": 19.6, "[6.4, 573.7]": 19.7, "[6.4, 576.4]": 19.8, "[6.4, 579.3]": 19.9, "[6.4, 582.1]": 20.0}, "scale": "linear"}, "Axis 2": {"xMin": 6.4, "xMax": 474.9, "yMin": 113.5, "yMax": 582.1, "valueMin": 0.0, "valueMax": 10.0, "points": {"[474.9, 113.5]": 10.0, "[470.8, 117.5]": 9.5, "[466.4, 122.0]": 9.0, "[461.5, 126.8]": 8.5, "[456.1, 132.1]": 8.0, "[450.2, 138.1]": 7.5, "[443.6, 144.7]": 7.0, "[442.2, 146.0]": 6.9, "[440.8, 147.5]": 6.8, "[439.3, 148.9]": 6.7, "[437.8, 150.5]": 6.6, "[436.3, 152.0]": 6.5, "[434.7, 153.6]": 6.4, "[433.1, 155.3]": 6.3, "[431.4, 156.9]": 6.2, "[429.8, 158.6]": 6.1, "[428.0, 160.3]": 6.0, "[426.2, 162.0]": 5.9, "[424.4, 163.9]": 5.8, "[422.5, 165.7]": 5.7, "[420.6, 167.7]": 5.6, "[418.7, 169.7]": 5.5, "[416.6, 171.7]": 5.4, "[414.5, 173.8]": 5.3, "[412.4, 175.9]": 5.2, "[410.2, 178.2]": 5.1, "[407.9, 180.4]": 5.0, "[405.6, 182.7]": 4.9, "[403.2, 185.2]": 4.8, "[400.8, 187.6]": 4.7, "[398.2, 190.1]": 4.6, "[395.6, 192.7]": 4.5, "[392.9, 195.5]": 4.4, "[390.1, 198.3]": 4.3, "[387.2, 201.2]": 4.2, "[384.2, 204.1]": 4.1, "[381.2, 207.1]": 4.0, "[378.0, 210.3]": 3.9, "[374.7, 213.6]": 3.8, "[371.3, 217.1]": 3.7, "[367.8, 220.6]": 3.6, "[364.1, 224.2]": 3.5, "[360.3, 228.0]": 3.4, "[356.4, 231.9]": 3.3, "[352.3, 236.0]": 3.2, "[348.1, 240.2]": 3.1, "[343.7, 244.7]": 3.0, "[339.1, 249.2]": 2.9, "[334.3, 254.1]": 2.8, "[329.3, 259.0]": 2.7, "[324.1, 264.3]": 2.6, "[318.7, 269.7]": 2.5, "[313.0, 275.4]": 2.4, "[307.1, 281.3]": 2.3, "[300.9, 287.6]": 2.2, "[294.3, 294.0]": 2.1, "[287.5, 300.9]": 2.0, "[280.3, 308.1]": 1.9, "[272.7, 315.7]": 1.8, "[264.7, 323.7]": 1.7, "[256.2, 332.1]": 1.6, "[247.3, 341.1]": 1.5, "[237.9, 350.5]": 1.4, "[227.8, 360.6]": 1.3, "[217.2, 371.1]": 1.2, "[205.9, 382.5]": 1.1, "[193.8, 394.7]": 1.0, "[180.8, 407.5]": 0.9, "[167.0, 421.4]": 0.8, "[152.1, 436.4]": 0.7, "[136.1, 452.4]": 0.6, "[118.8, 469.7]": 0.5, "[100.1, 488.3]": 0.4, "[79.7, 508.7]": 0.3, "[57.5, 530.9]": 0.2, "[33.1, 555.3]": 0.1, "[6.4, 582.1]": 0.0}, "scale": "logarithmic"}, "Axis 3": {"xMin": 568.6, "xMax": 568.7, "yMin": 19.7, "yMax": 582.0, "valueMin": 0.0, "valueMax": 10.0, "points": {"[568.6, 19.7]": 0.0, "[568.6, 25.3]": 0.1, "[568.6, 31.0]": 0.2, "[568.6, 36.5]": 0.3, "[568.6, 42.2]": 0.4, "[568.6, 47.9]": 0.5, "[568.6, 53.4]": 0.6, "[568.6, 59.1]": 0.7, "[568.6, 64.7]": 0.8, "[568.6, 70.4]": 0.9, "[568.6, 75.9]": 1.0, "[568.6, 81.6]": 1.1, "[568.6, 87.2]": 1.2, "[568.6, 92.9]": 1.3, "[568.6, 98.4]": 1.4, "[568.6, 104.1]": 1.5, "[568.6, 109.7]": 1.6, "[568.6, 115.3]": 1.7, "[568.6, 120.9]": 1.8, "[568.6, 126.6]": 1.9, "[568.6, 132.1]": 2.0, "[568.6, 137.8]": 2.1, "[568.6, 143.4]": 2.2, "[568.6, 149.1]": 2.3, "[568.6, 154.6]": 2.4, "[568.6, 160.3]": 2.5, "[568.6, 165.9]": 2.6, "[568.6, 171.6]": 2.7, "[568.6, 177.1]": 2.8, "[568.6, 182.8]": 2.9, "[568.6, 188.4]": 3.0, "[568.6, 194.0]": 3.1, "[568.6, 199.6]": 3.2, "[568.6, 205.3]": 3.3, "[568.6, 210.8]": 3.4, "[568.6, 216.5]": 3.5, "[568.6, 222.1]": 3.6, "[568.6, 227.8]": 3.7, "[568.6, 233.3]": 3.8, "[568.6, 239.0]": 3.9, "[568.6, 244.6]": 4.0, "[568.6, 250.3]": 4.1, "[568.6, 255.8]": 4.2, "[568.6, 261.5]": 4.3, "[568.6, 267.1]": 4.4, "[568.6, 272.7]": 4.5, "[568.6, 278.4]": 4.6, "[568.6, 284.0]": 4.7, "[568.6, 289.7]": 4.8, "[568.6, 295.2]": 4.9, "[568.6, 300.9]": 5.0, "[568.6, 306.5]": 5.1, "[568.6, 312.2]": 5.2, "[568.6, 317.7]": 5.3, "[568.6, 323.4]": 5.4, "[568.6, 329.0]": 5.5, "[568.6, 334.6]": 5.6, "[568.6, 340.2]": 5.7, "[568.6, 345.9]": 5.8, "[568.6, 351.4]": 5.9, "[568.6, 357.1]": 6.0, "[568.6, 362.7]": 6.1, "[568.6, 368.4]": 6.2, "[568.6, 373.9]": 6.3, "[568.6, 379.6]": 6.4, "[568.6, 385.2]": 6.5, "[568.6, 390.9]": 6.6, "[568.6, 396.4]": 6.7, "[568.6, 402.1]": 6.8, "[568.6, 407.7]": 6.9, "[568.6, 413.3]": 7.0, "[568.6, 418.9]": 7.1, "[568.6, 424.6]": 7.2, "[568.6, 430.1]": 7.3, "[568.6, 435.8]": 7.4, "[568.6, 441.4]": 7.5, "[568.6, 447.1]": 7.6, "[568.6, 452.6]": 7.7, "[568.7, 458.3]": 7.8, "[568.7, 463.9]": 7.9, "[568.7, 469.6]": 8.0, "[568.7, 475.1]": 8.1, "[568.7, 480.8]": 8.2, "[568.7, 486.4]": 8.3, "[568.7, 492.0]": 8.4, "[568.7, 497.6]": 8.5, "[568.7, 503.3]": 8.6, "[568.7, 509.0]": 8.7, "[568.7, 514.5]": 8.8, "[568.7, 520.2]": 8.9, "[568.7, 525.8]": 9.0, "[568.7, 531.5]": 9.1, "[568.7, 537.0]": 9.2, "[568.7, 542.7]": 9.3, "[568.7, 548.3]": 9.4, "[568.7, 553.9]": 9.5, "[568.7, 559.5]": 9.6, "[568.7, 565.2]": 9.7, "[568.7, 570.7]": 9.8, "[568.7, 576.4]": 9.9, "[568.7, 582.0]": 10.0}, "scale": "linear"}};
    const axisCoordsMap = {"Axis 1": {"xMin": 12.9, "xMax": 13.0, "yMin": 20.0, "yMax": 582.3, "valueMin": 100.0, "valueMax": 1000.0, "points": {"[12.9, 20.0]": 100.0, "[12.9, 26.2]": 110.0, "[12.9, 32.4]": 120.0, "[12.9, 38.6]": 130.0, "[12.9, 45.0]": 140.0, "[12.9, 51.2]": 150.0, "[12.9, 57.4]": 160.0, "[12.9, 63.6]": 170.0, "[12.9, 70.0]": 180.0, "[12.9, 76.2]": 190.0, "[12.9, 82.4]": 200.0, "[12.9, 88.6]": 210.0, "[12.9, 95.0]": 220.0, "[12.9, 101.2]": 230.0, "[12.9, 107.4]": 240.0, "[12.9, 113.6]": 250.0, "[12.9, 120.0]": 260.0, "[12.9, 126.2]": 270.0, "[12.9, 132.4]": 280.0, "[12.9, 138.6]": 290.0, "[12.9, 145.0]": 300.0, "[12.9, 151.2]": 310.0, "[12.9, 157.4]": 320.0, "[12.9, 163.6]": 330.0, "[12.9, 169.8]": 340.0, "[12.9, 176.2]": 350.0, "[12.9, 182.4]": 360.0, "[12.9, 188.6]": 370.0, "[12.9, 194.8]": 380.0, "[12.9, 201.2]": 390.0, "[12.9, 207.4]": 400.0, "[12.9, 213.6]": 410.0, "[12.9, 219.8]": 420.0, "[12.9, 226.2]": 430.0, "[12.9, 232.4]": 440.0, "[12.9, 238.6]": 450.0, "[12.9, 244.8]": 460.0, "[12.9, 251.2]": 470.0, "[12.9, 257.4]": 480.0, "[12.9, 263.6]": 490.0, "[12.9, 269.8]": 500.0, "[12.9, 276.0]": 510.0, "[12.9, 282.4]": 520.0, "[12.9, 288.6]": 530.0, "[12.9, 294.8]": 540.0, "[12.9, 301.0]": 550.0, "[12.9, 307.4]": 560.0, "[12.9, 313.6]": 570.0, "[12.9, 319.8]": 580.0, "[12.9, 326.0]": 590.0, "[12.9, 332.4]": 600.0, "[12.9, 338.6]": 610.0, "[12.9, 344.8]": 620.0, "[12.9, 351.0]": 630.0, "[12.9, 357.4]": 640.0, "[12.9, 363.6]": 650.0, "[13.0, 369.8]": 660.0, "[13.0, 376.0]": 670.0, "[13.0, 382.3]": 680.0, "[13.0, 388.6]": 690.0, "[13.0, 394.8]": 700.0, "[13.0, 401.0]": 710.0, "[13.0, 407.3]": 720.0, "[13.0, 413.6]": 730.0, "[13.0, 419.8]": 740.0, "[13.0, 426.0]": 750.0, "[13.0, 432.3]": 760.0, "[13.0, 438.6]": 770.0, "[13.0, 444.8]": 780.0, "[13.0, 451.0]": 790.0, "[13.0, 457.3]": 800.0, "[13.0, 463.6]": 810.0, "[13.0, 469.8]": 820.0, "[13.0, 476.0]": 830.0, "[13.0, 482.3]": 840.0, "[13.0, 488.5]": 850.0, "[13.0, 494.8]": 860.0, "[13.0, 501.0]": 870.0, "[13.0, 507.3]": 880.0, "[13.0, 513.5]": 890.0, "[13.0, 519.8]": 900.0, "[13.0, 526.0]": 910.0, "[13.0, 532.3]": 920.0, "[13.0, 538.5]": 930.0, "[13.0, 544.8]": 940.0, "[13.0, 551.0]": 950.0, "[13.0, 557.3]": 960.0, "[13.0, 563.5]": 970.0, "[13.0, 569.8]": 980.0, "[13.0, 576.0]": 990.0, "[13.0, 582.3]": 1000.0}, "scale": "linear"}, "Axis 2": {"xMin": 200.4, "xMax": 387.8, "yMin": 186.5, "yMax": 415.6, "valueMin": 5.0, "valueMax": 20.0, "points": {"[387.8, 186.5]": 20.0, "[384.6, 190.3]": 19.5, "[381.3, 194.4]": 19.0, "[377.9, 198.5]": 18.5, "[374.4, 202.9]": 18.0, "[370.8, 207.3]": 17.5, "[367.0, 211.9]": 17.0, "[363.0, 216.8]": 16.5, "[359.0, 221.7]": 16.0, "[354.7, 227.0]": 15.5, "[350.3, 232.3]": 15.0, "[345.7, 238.0]": 14.5, "[340.9, 243.8]": 14.0, "[336.0, 249.9]": 13.5, "[330.8, 256.2]": 13.0, "[325.3, 262.8]": 12.5, "[319.6, 269.8]": 12.0, "[313.7, 277.1]": 11.5, "[312.5, 278.6]": 11.4, "[311.2, 280.0]": 11.3, "[310.0, 281.6]": 11.2, "[308.7, 283.2]": 11.1, "[307.5, 284.6]": 11.0, "[306.2, 286.2]": 10.9, "[304.9, 287.8]": 10.8, "[303.6, 289.4]": 10.7, "[302.3, 291.0]": 10.6, "[300.9, 292.7]": 10.5, "[299.6, 294.3]": 10.4, "[298.2, 296.0]": 10.3, "[296.9, 297.6]": 10.2, "[295.5, 299.3]": 10.1, "[294.1, 301.0]": 10.0, "[292.7, 302.8]": 9.9, "[291.3, 304.5]": 9.8, "[289.8, 306.3]": 9.7, "[288.4, 308.1]": 9.6, "[286.9, 309.9]": 9.5, "[285.4, 311.6]": 9.4, "[283.9, 313.5]": 9.3, "[282.4, 315.3]": 9.2, "[280.8, 317.2]": 9.1, "[279.3, 319.2]": 9.0, "[277.7, 321.0]": 8.9, "[276.2, 323.0]": 8.8, "[274.6, 325.0]": 8.7, "[272.9, 327.0]": 8.6, "[271.3, 329.0]": 8.5, "[269.7, 330.9]": 8.4, "[268.0, 332.9]": 8.3, "[266.3, 335.0]": 8.2, "[264.6, 337.2]": 8.1, "[262.9, 339.3]": 8.0, "[261.1, 341.4]": 7.9, "[259.4, 343.5]": 7.8, "[257.6, 345.8]": 7.7, "[255.8, 347.9]": 7.6, "[253.9, 350.1]": 7.5, "[252.1, 352.4]": 7.4, "[250.2, 354.7]": 7.3, "[248.3, 357.0]": 7.2, "[246.4, 359.4]": 7.1, "[244.5, 361.8]": 7.0, "[242.5, 364.1]": 6.9, "[240.6, 366.5]": 6.8, "[238.5, 368.9]": 6.7, "[236.5, 371.4]": 6.6, "[234.5, 373.9]": 6.5, "[232.4, 376.4]": 6.4, "[230.3, 379.1]": 6.3, "[228.2, 381.7]": 6.2, "[226.0, 384.2]": 6.1, "[223.8, 387.0]": 6.0, "[221.6, 389.7]": 5.9, "[219.4, 392.4]": 5.8, "[217.1, 395.2]": 5.7, "[214.8, 398.0]": 5.6, "[212.5, 400.8]": 5.5, "[210.1, 403.7]": 5.4, "[207.7, 406.6]": 5.3, "[205.3, 409.6]": 5.2, "[202.9, 412.6]": 5.1, "[200.4, 415.6]": 5.0}, "scale": "linear"}, "Axis 3": {"xMin": 575.2, "xMax": 575.3, "yMin": 19.8, "yMax": 582.1, "valueMin": 10.0, "valueMax": 100.0, "points": {"[575.2, 19.8]": 10.0, "[575.2, 26.1]": 11.0, "[575.2, 32.4]": 12.0, "[575.2, 38.6]": 13.0, "[575.2, 44.8]": 14.0, "[575.2, 51.1]": 15.0, "[575.2, 57.3]": 16.0, "[575.2, 63.6]": 17.0, "[575.2, 69.8]": 18.0, "[575.2, 76.1]": 19.0, "[575.2, 82.3]": 20.0, "[575.2, 88.6]": 21.0, "[575.2, 94.8]": 22.0, "[575.2, 101.1]": 23.0, "[575.2, 107.3]": 24.0, "[575.2, 113.6]": 25.0, "[575.2, 119.8]": 26.0, "[575.2, 126.1]": 27.0, "[575.2, 132.3]": 28.0, "[575.2, 138.6]": 29.0, "[575.2, 144.8]": 30.0, "[575.2, 151.1]": 31.0, "[575.2, 157.3]": 32.0, "[575.2, 163.5]": 33.0, "[575.2, 169.8]": 34.0, "[575.2, 176.1]": 35.0, "[575.2, 182.3]": 36.0, "[575.2, 188.5]": 37.0, "[575.2, 194.8]": 38.0, "[575.2, 201.1]": 39.0, "[575.2, 207.3]": 40.0, "[575.2, 213.5]": 41.0, "[575.2, 219.8]": 42.0, "[575.2, 226.0]": 43.0, "[575.2, 232.3]": 44.0, "[575.2, 238.5]": 45.0, "[575.2, 244.8]": 46.0, "[575.2, 251.0]": 47.0, "[575.2, 257.3]": 48.0, "[575.2, 263.5]": 49.0, "[575.2, 269.7]": 50.0, "[575.2, 276.0]": 51.0, "[575.2, 282.3]": 52.0, "[575.2, 288.5]": 53.0, "[575.2, 294.7]": 54.0, "[575.2, 301.0]": 55.0, "[575.3, 307.3]": 56.0, "[575.3, 313.5]": 57.0, "[575.3, 319.7]": 58.0, "[575.3, 326.0]": 59.0, "[575.3, 332.3]": 60.0, "[575.3, 338.5]": 61.0, "[575.3, 344.7]": 62.0, "[575.3, 351.0]": 63.0, "[575.3, 357.3]": 64.0, "[575.3, 363.5]": 65.0, "[575.3, 369.7]": 66.0, "[575.3, 375.9]": 67.0, "[575.3, 382.3]": 68.0, "[575.3, 388.5]": 69.0, "[575.3, 394.7]": 70.0, "[575.3, 400.9]": 71.0, "[575.3, 407.3]": 72.0, "[575.3, 413.5]": 73.0, "[575.3, 419.7]": 74.0, "[575.3, 425.9]": 75.0, "[575.3, 432.3]": 76.0, "[575.3, 438.5]": 77.0, "[575.3, 444.7]": 78.0, "[575.3, 450.9]": 79.0, "[575.3, 457.3]": 80.0, "[575.3, 463.5]": 81.0, "[575.3, 469.7]": 82.0, "[575.3, 475.9]": 83.0, "[575.3, 482.3]": 84.0, "[575.3, 488.5]": 85.0, "[575.3, 494.7]": 86.0, "[575.3, 500.9]": 87.0, "[575.3, 507.1]": 88.0, "[575.3, 513.5]": 89.0, "[575.3, 519.7]": 90.0, "[575.3, 525.9]": 91.0, "[575.3, 532.1]": 92.0, "[575.3, 538.5]": 93.0, "[575.3, 544.7]": 94.0, "[575.3, 550.9]": 95.0, "[575.3, 557.1]": 96.0, "[575.3, 563.5]": 97.0, "[575.3, 569.7]": 98.0, "[575.3, 575.9]": 99.0, "[575.3, 582.1]": 100.0}, "scale": "linear"}};
    
    const numberOfUncertaintyCircles = 250;

    //Initialize components
    GeometryUtils.createSVGContainer();
    const controller = new NomogramController(axisCoordsMap); // Holds circles & history of use
    const rulerConstraint = new RulerConstraint(controller); // ensures ruler-like functionality
    const circleFactory = new CircleFactory(controller, rulerConstraint, numberOfUncertaintyCircles); //makes all circles
    const isoplethManager = new IsoplethManager(controller);
    
    //create circles for each axis
    const axisKeys = Object.keys(axisCoordsMap);
    for (const axisKey of axisKeys) {
        circleFactory.createCircle(axisKey, axisCoordsMap[axisKey])
    }    

    //update
    isoplethManager.makeIsopleths()
    controller.updateCircleColors();
    UncertaintyToggle.setup(controller);

});
